{% extends 'base.html' %}

{% block content %}
<div class="container">
  <div class="row">
    
    <!-- Sidebar -->
    <div class="col-md-3 col-lg-2 d-none d-md-block bg-light sidebar">
      {% include 'partials/sidebar_system.html' %}
    </div>

    <!-- Main Content -->
    <div class="col-md-9 ms-sm-auto col-lg-10 px-md-4 mt-4">
      <h2 class="mb-4">Your Notifications</h2>

      <form method="post" class="mb-3">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-primary">Mark All as Read</button>
      </form>

      <div class="list-group">
        {% for note in notifications %}
          <a href="{{ note.link }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center {% if not note.is_read %}list-group-item-info{% endif %}">
            <div>
              <strong>{{ note.message }}</strong>
              <div class="small text-muted">{{ note.created_at|date:"Y-m-d H:i" }}</div>
            </div>
            {% if not note.is_read %}
              <span class="badge bg-warning text-dark">New</span>
            {% endif %}
          </a>
        {% empty %}
          <div class="alert alert-secondary">No notifications available.</div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
